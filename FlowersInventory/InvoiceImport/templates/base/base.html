<!--{% load static %}-->
<!DOCTYPE>
<html lang='en'>
    <head>
        <meta charset='utf-8'>
        <meta name="viewport" content='width=device-width, initial-scale=1, shrink-to-fit=no'>
        {% include 'base/css.html' %}
    </head>
    <body>
        {% include 'base/navbar.html' with brand_name="Lessly's Flowers"%}
        <div class="container">
            {% block content %}

            {% endblock %}
        </div>
        {% include 'base/js.html' %}

        <script>
            $(document).ready(function(){
                // form
                var invoiceForm = $('.form-product-ajax')

                invoiceForm.submit(function (event){
                    event.preventDefault();
                    // grabbing data related to this form
                    var thisForm = $(this)
                    // the url
                    var actionEndpoint = thisForm.attr("date-endpoint");
                    // actual method
                    var httpMethod = thisForm.attr("method");
                    // the form data
                    var formData = thisForm.serialize();

                    $.ajax({
                        url: actionEndpoint,
                        method: httpMethod,
                        data: formData,

                        success: function (data) {
                            var input = thisForm.find(".purchase_date_input")
                            if (data.added) {
                                input.html("found")
                            } else {
                                input.html("not found")
                            }
                        }
                    })
                })
            })
        </script>
    </body>
</html>